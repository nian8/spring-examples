server:
  port: 8888

spring:
  application:
    name: gateway-application
  #
  cloud:
    # Spring Cloud Gateway 配置项，对应 GatewayProperties 类
    gateway:
      # 路由配置项，对应 RouteDefinition 数组
      routes:
          # 路由的编号
        - id: yudaoyuanma
          # 路由到的目标地址
          uri: https://www.iocoder.cn
          # 断言，作为路由的匹配条件，对应 RouteDefinition 数组
          predicates:
            - Path=/blog
          # 过滤器，对请求进行拦截，实现自定义的功能，对应 FilterDefinition 数组
          filters:
            - StripPrefix=1
        - id: oschina
          uri: https://www.oschina.net
          predicates:
            - Path=/oschina
          filters:
            - StripPrefix=1
      # 与 Spring Cloud 注册中心的集成，对应 DiscoveryLocatorProperties 类
      discovery:
        locator:
          # 是否开启，默认为 false 关闭
          enabled: true
          # 路由的目标地址的表达式(SpringEL)，默认为 "'lb://' + serviceId"
          url-expression: "'lb://'+serviceId"
    # Nacos 作为注册中心的配置项
    nacos:
      discovery:
        # Nacos 服务器地址
        server-addr: 127.0.0.1:8848

logging:
  level:
    reactor.netty: DEBUG
    org.springframework.web.reactive: TRACE
    org.springframework.cloud.gateway: TRACE
#
